<!doctype html>
<html lang="en">
  <head>
      <title>psyGA Selbsteinschätzung</title>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <!-- Bootstrap CSS -->
        <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css" rel="stylesheet" />
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
        <link rel="stylesheet" href="css/custom.css">
        <link rel="stylesheet" href="css/carousel_vertical.css">
        <script src="js/story_selection_logic.js"></script>
        
    </head>
    <body>
        <div class="container-fluid">
            <div class="container" id="banner">
              <h1>psyGA Selbsteinschätzung</h1>
            </div>
            <div class="row">
              <div class="col-sm-3" >
                  <!-- Nav tabs -->
                  <ul class="nav nav-tabs" role="tablist">
                    <li class="nav-item">
                      <a class="nav-link active" data-toggle="tab" href="#home" role="tab">Home</a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link" data-toggle="tab" href="#profile" role="tab">Finde deine geschichte</a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link" data-toggle="tab" href="#messages" role="tab">Geschichten</a>
                    </li>
                  </ul>
                <div class="warning">
                    Bei bedarf können sie hier hilfe finden.

                </div>

              </div>
              <div class="col-sm-6">
                 <!-- Tab panes -->
                 <div class="tab-content">
                        <div class="tab-pane active" id="home" role="tabpanel">home</div>
                        <div class="tab-pane" id="profile" role="tabpanel">
                            <h1>
                                Finde deine Geschichte
                            </h1>
                            <div  id="carousel-example-generic" class="carousel slide" data-ride="carousel" data-interval="false">
                                <div class="carousel-inner vertical" role="listbox">
                                    <div class="item active">
                                        <div class="question">
                                            <p> 1. Können Sie abends gut einschlafen und haben nachts einen guten Schlaf, ohne größere Unterbrechungen?</p>
                                        </div>
                                        <div class="answers">
                                            <div class="custom-control custom-radio ">
                                                <input type="radio" class="custom-control-input" id="sleep_yes" name="sleep">
                                                <label class="custom-control-label" for="sleep_yes">Ja</label>
                                            </div>
                                              
                                              <!-- Default 2-->
                                            <div class="custom-control custom-radio ">
                                                <input type="radio" class="custom-control-input" id="sleep_no" name="sleep">
                                                <label class="custom-control-label" for="sleep_no">Nein</label>
                                            </div>
                                        </div>
        
                                    </div>
                                    <div class="item">
                                        <div class="question">
                                            <p> 2. Haben Sie pflegebedürftige Angehörige und sind dadurch belastet?</p>
                                        </div>
                                        <div class="answers">
                                            <div class="custom-control custom-radio ">
                                                <input type="radio" class="custom-control-input" id="relative_yes" name="relative">
                                                <label class="custom-control-label" for="relative_yes">Ja</label>
                                            </div>
                                              
                                              <!-- Default 2-->
                                            <div class="custom-control custom-radio ">
                                                <input type="radio" class="custom-control-input" id="relative_no" name="relative">
                                                <label class="custom-control-label" for="relative_no">Nein</label>
                                            </div>
                                        </div>
                                        
                                    </div>
                                    <div class="item">
                                        <div class="question">
                                            <p> 3. Welche der folgenden Beschwerden sind im letzten halben Jahr regelmäßig bei Ihnen aufgetreten?</p>
                                        </div>
                                        <div class="answers">
                                            <!-- Default unchecked -->
                                            <div class="custom-control custom-checkbox">
                                                <input type="checkbox" class="custom-control-input" id="stress">
                                                <label class="custom-control-label" for="stress" onclick="$('.foo').click(function(){     
                                                    $('.foo').not(this).attr('checked', false);      
                                                });">Stressempfinden</label>
                                            </div>
                                            <div class="custom-control custom-checkbox">
                                                <input type="checkbox" class="custom-control-input" id="depression">
                                                <label class="custom-control-label" for="depression">Depressive Phase (auch ohne ärztliche Diagnose): Sie fühlen sich z.B. 
                                                    niedergeschlagen, antriebslos, traurig, haben das Gefühl nichts auf die Reihe zu bekommen</label>
                                            </div>
                                            <div class="custom-control custom-checkbox">
                                                <input type="checkbox" class="custom-control-input" id="ponder">
                                                <label class="custom-control-label" for="ponder">Ständiges Nachdenken und Grübeln</label>
                                            </div>
                                            <div class="custom-control custom-checkbox">
                                                <input type="checkbox" class="custom-control-input" id="motivation">
                                                <label class="custom-control-label" for="motivation">Antriebslosigkeit</label>
                                            </div>
                                            <div class="custom-control custom-checkbox">
                                                <input type="checkbox" class="custom-control-input" id="loss_apetite">
                                                <label class="custom-control-label" for="loss_apetite">Appetitlosigkeit</label>
                                            </div>
                                            <div class="custom-control custom-checkbox">
                                                <input type="checkbox" class="custom-control-input" id="binge">
                                                <label class="custom-control-label" for="binge">Übermäßiger Appetit, z.B. auf Süßigkeiten</label>
                                            </div>
                                            <div class="custom-control custom-checkbox">
                                                <input type="checkbox" class="custom-control-input" id="breathing">
                                                <label class="custom-control-label" for="breathing">Atembeschwerden</label>
                                            </div>
                                            <div class="custom-control custom-checkbox">
                                                <input type="checkbox" class="custom-control-input" id="phys_exhaustion">
                                                <label class="custom-control-label" for="phys_exhaustion">Körperliche Erschöpfungszustände</label>
                                            </div>
                                            <div class="custom-control custom-checkbox">
                                                <input type="checkbox" class="custom-control-input" id="psy_exhaustion">
                                                <label class="custom-control-label" for="psy_exhaustion">Seelische Erschöpfungszustände</label>
                                            </div>
                                            <div class="custom-control custom-checkbox">
                                                <input type="checkbox" class="custom-control-input" id="alone">
                                                <label class="custom-control-label" for="alone">Einsamkeit</label>
                                            </div>
                                            <div class="custom-control custom-checkbox">
                                                <input type="checkbox" class="custom-control-input" id="no_stress">
                                                <label class="custom-control-label" for="no_stress">Nichts davon</label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="item">
                                        <div class="question">
                                            <p> 4. Hatten oder haben Sie das Gefühl von tiefer Verzweiflung in Verbindung mit Todesgedanken?</p>
                                        </div>
                                        <div class="answers">
                                            <div class="custom-control custom-radio ">
                                                <input type="radio" class="custom-control-input" id="deaththoughts_yes" name="deaththoughts">
                                                <label class="custom-control-label" for="deaththoughts_yes">Ja</label>
                                            </div>
                                              
                                              <!-- Default 2-->
                                            <div class="custom-control custom-radio ">
                                                <input type="radio" class="custom-control-input" id="deaththoughts_no" name="deaththoughts">
                                                <label class="custom-control-label" for="deaththoughts_no">Nein</label>
                                            </div>
                                        </div>
                                        
                                    </div>
                                    <div class="item">
                                        <div class="question">
                                            <p> 5. Welche der folgenden Aussagen treffen auf Sie zu?</p>
                                        </div>
                                        <div class="answers">
                                            <!-- Default unchecked -->
                                            <div class="custom-control custom-checkbox">
                                                <input type="checkbox" class="custom-control-input" id="work_overload">
                                                <label class="custom-control-label" for="work_overload">Meine momentane berufliche Tätigkeit belastet mich sehr.</label>
                                            </div>
                                            <div class="custom-control custom-checkbox">
                                                <input type="checkbox" class="custom-control-input" id="work_entry">
                                                <label class="custom-control-label" for="work_entry">Der Einstieg in den Beruf ist mir sehr schwer gefallen.</label>
                                            </div>
                                            <div class="custom-control custom-checkbox">
                                                <input type="checkbox" class="custom-control-input" id="stress_manager">
                                                <label class="custom-control-label" for="stress_manager">Das Verhältnis zu einem meiner Vorgesetzten empfinde ich als sehr belastend.</label>
                                            </div>
                                            <div class="custom-control custom-checkbox">
                                                <input type="checkbox" class="custom-control-input" id="stress_colleague">
                                                <label class="custom-control-label" for="stress_colleague">Das Verhältnis zu einem oder mehrerer meiner Kollegen empfinde ich als sehr belastend.</label>
                                            </div>
                                            <div class="custom-control custom-checkbox">
                                                <input type="checkbox" class="custom-control-input" id="financial_worries">
                                                <label class="custom-control-label" for="financial_worries">Ich habe finanzielle Sorgen.</label>
                                            </div>
                                            <div class="custom-control custom-checkbox">
                                                <input type="checkbox" class="custom-control-input" id="work_change">
                                                <label class="custom-control-label" for="work_change">Aufgrund meiner (Vor-)Erkrankung wurde 
                                                    mir gegen meinen Willen ein anderer Aufgabenbereich übertragen.</label>
                                            </div>
                                            <div class="custom-control custom-checkbox">
                                                <input type="checkbox" class="custom-control-input" id="no_work_stress">
                                                <label class="custom-control-label" for="no_work_stress">Nichts davon</label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="item">
                                        <div class="question">
                                            <p> 6. Haben Sie aufgrund einer seelischen Belastung oder Krise schon einmal 
                                                Kontakt zu einem Arzt, einem Therapeuten oder einer anderen Person aus dem Gesundheitswesen gesucht?</p>
                                        </div>
                                        <div class="answers">
                                            <div class="custom-control custom-radio ">
                                                <input type="radio" class="custom-control-input" id="medical_contact_yes" name="medical_contact">
                                                <label class="custom-control-label" for="medical_contact_yes">Ja</label>
                                            </div>
                                              
                                              <!-- Default 2-->
                                            <div class="custom-control custom-radio ">
                                                <input type="radio" class="custom-control-input" id="medical_contact_no" name="medical_contact">
                                                <label class="custom-control-label" for="medical_contact_no">Nein</label>
                                            </div>
                                        </div>
                                        
                                    </div>
                                    <div class="item">
                                        <div class="question">
                                            <p> 6 a) Haben Sie das Gefühl, sich um alles selbst kümmern zu müssen, 
                                                wenn es darum geht, für Ihre seelische Gesundheit eine angemessene 
                                                Unterstützung, Behandlung, Begleitung, Förderung oder Versorgung zu erhalten?</p>
                                        </div>
                                        <div class="answers">
                                            <div class="custom-control custom-radio ">
                                                <input type="radio" class="custom-control-input" id="medical_alone_yes" name="medical_alone">
                                                <label class="custom-control-label" for="medical_alone_yes">Ja</label>
                                            </div>
                                              
                                              <!-- Default 2-->
                                            <div class="custom-control custom-radio ">
                                                <input type="radio" class="custom-control-input" id="medical_alone_no" name="medical_alone">
                                                <label class="custom-control-label" for="medical_alone_no">Nein</label>
                                            </div>
                                        </div>
                                        
                                    </div>
                                    <div class="item">
                                        <div class="question">
                                            <p> 7. Fürchten Sie sich davor, aufgrund Ihrer Empfindungen oder 
                                                aufgrund Ihrer Erkrankung von Menschen in Ihrem beruflichen oder privaten Umfeld abgestempelt zu werden? </p>
                                        </div>
                                        <div class="answers">
                                            <div class="custom-control custom-radio ">
                                                <input type="radio" class="custom-control-input" id="stigma_yes" name="stigma">
                                                <label class="custom-control-label" for="stigma_yes">Ja</label>
                                            </div>
                                              
                                              <!-- Default 2-->
                                            <div class="custom-control custom-radio ">
                                                <input type="radio" class="custom-control-input" id="stigma_no" name="stigma">
                                                <label class="custom-control-label" for="stigma_no">Nein</label>
                                            </div>
                                        </div>
                                        
                                    </div>
                                    <div class="item">
                                        <div class="question">
                                            <p> 8. Welche der folgenden Aussagen treffen auf Sie zu?</p>
                                        </div>
                                            <div class="answers">
                                                <!-- Default unchecked -->
                                                <div class="custom-control custom-checkbox">
                                                    <input type="checkbox" class="custom-control-input" id="fairness">
                                                    <label class="custom-control-label" for="fairness">Ich habe einen ausgeprägten Gerechtigkeitssinn.</label>
                                                </div>
                                                <div class="custom-control custom-checkbox">
                                                    <input type="checkbox" class="custom-control-input" id="selfesteem">
                                                    <label class="custom-control-label" for="selfesteem">Ich habe häufig ein schlechtes Bild von mir selbst.</label>
                                                </div>
                                                <div class="custom-control custom-checkbox">
                                                    <input type="checkbox" class="custom-control-input" id="self_asurness">
                                                    <label class="custom-control-label" for="self_asurness">Ich habe wenig Vertrauen in meine eigenen Fähigkeiten.</label>
                                                </div>
                                                <div class="custom-control custom-checkbox">
                                                    <input type="checkbox" class="custom-control-input" id="ambitious">
                                                    <label class="custom-control-label" for="ambitious">Ich bin sehr ehrgeizig.</label>
                                                </div>
                                                <div class="custom-control custom-checkbox">
                                                    <input type="checkbox" class="custom-control-input" id="please_everybody">
                                                    <label class="custom-control-label" for="please_everybody">Ich versuche häufig es allen anderen recht zu machen.</label>
                                                </div>
                                                <div class="custom-control custom-checkbox">
                                                    <input type="checkbox" class="custom-control-input" id="no_self_stress">
                                                    <label class="custom-control-label" for="no_self_stress">Nichts davon</label>
                                                </div>
                                            </div>
                                    </div>
                                    <!-- Controls -->
                                    <a class="prev_ctl carousel-control" href="#carousel-example-generic" role="button" data-slide="prev">
                                        <span class="glyphicon glyphicon-chevron-up" aria-hidden="true"></span>
                                        <span class="sr-only">Previous</span>
                                    </a>
                                    <a class="next_ctl carousel-control" href="#carousel-example-generic" role="button" data-slide="next">
                                        <span class="glyphicon glyphicon-chevron-down" aria-hidden="true"></span>
                                        <span class="sr-only">Next</span>
                                    </a>
                                </div>
                            </div>
                            <div class="row">
                                <button id="getStory" type="button" class="btn btn-lg btn-primary"  
                                onclick="
                                    let answers = $('input:checked').map(function() {
                                        return this.id;
                                    }).get();
                                    let selected_story = find_story_id(answers);
                                    alert('Deine antworten ergibt:\n' + selected_story)
                                ">
                                    Zeig mir bitte meine Geschichte
                                </button>
                            </div>
                        </div>
                        <div class="tab-pane" id="messages" role="tabpanel">
                            <h1>
                                Geschichten
                            </h1>
                            <details id="Filter">
                                <summary>Filter</summary>
                                <div>
                                    <button id="filter1" type="button" class="btn btn-lg btn-primary filter"  onclick="$(this).toggleClass('active');triggerFilter();">
                                        Filter 1
                                    </button>
                                    <button id="filter2" type="button" class="btn btn-lg btn-primary filter"  onclick="$(this).toggleClass('active');triggerFilter();">
                                        Filter 2
                                    </button>
                                    <button id="filter3" type="button" class="btn btn-lg btn-primary filter"  onclick="$(this).toggleClass('active');triggerFilter();">
                                        Filter 3
                                    </button>  
                                </div>
                            </details>
                            <details >
                                <summary>Übergreifende Thema 1</summary>
                                <details id="story1">
                                    <summary>Zusammenfassung Punkt 1</summary>
                                    <p> 
                                        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
                                </details>
                                <details id="story2">
                                    <summary>Zusammenfassung Punkt 2</summary>
                                    <p>Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt. Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora incidunt ut labore et dolore magnam aliquam quaerat voluptatem. Ut enim ad minima veniam, quis nostrum exercitationem ullam corporis suscipit laboriosam, nisi ut aliquid ex ea commodi consequatur? Quis autem vel eum iure reprehenderit qui in ea voluptate velit esse quam nihil molestiae consequatur, vel illum qui dolorem eum fugiat quo voluptas nulla pariatur1</p>
                                </details>
                            </details>
                            <details id="story3">
                                <summary>Zusammenfassung Punkt 3</summary>
                                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
                            </details>
                            <details id="story4">
                                <summary>Zusammenfassung Punkt 4</summary>
                                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
                            </details>
                            <details id="story5">
                                <summary>Zusammenfassung Punkt 5</summary>
                                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
                            </details>
                            <details id="story6">
                                <summary>Zusammenfassung Punkt 6</summary>
                                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
                            </details>
                            <details id="story7">
                                <summary>Zusammenfassung Punkt 7</summary>
                                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
                            </details>
                            <details id="story8">
                                <summary>Zusammenfassung Punkt 8</summary>
                                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
                            </details>
                            <details id="story9">
                                <summary>Zusammenfassung Punkt 9</summary>
                                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
                            </details>
                        </div>
                        <div class="tab-pane" id="settings" role="tabpanel">settings</div>
                 </div>
                </div>
                <div class="col-sm-3"></div>
            </div>
        </div>
        <!-- Optional JavaScript -->
        <!-- jQuery first, then Popper.js, then Bootstrap JS -->
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"    integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
        <script>
            $('input').change(function(){
                if($('input:checked').length == 2){
                    $('#getStory').prop('disabled', false);
                }
            });
        </script>
        <script>
            function getStory(){
                var selected_answers = $('input:checked').map(function() {
                    return this.id;
                }).get();
                function is_selected(item){
                    return( selected_answers.includes(item) );
                };
                if(['defaultInline1'].every(is_selected)){
                    return ('story1');
                } else if (['defaultInline2'].every(is_selected)) {
                    return ('story4');
                } else if (['defaultInline3'].every(is_selected)) {
                    return ('story7');
                }
            };
        </script>
        <script>
            function getFilterStories(filter){
                var stories;
                switch (filter) {
                    case "filter1":
                    stories = ["story1", "story4", "story7"];
                    break;
                    case "filter2":
                    stories = ["story5", "story4", "story6"];
                    break;
                    case "filter3":
                    stories = ["story1", "story2", "story5", "story4", "story7", "story8"];
                    break;
                }
                return ( stories );
                
            };
        </script>
        <script>
            function openStory(detail_id){
                $('details:has(details#' + detail_id + ')').attr('open', '');
                $('details#' + detail_id).attr('open', '');
            };
        </script>
        <script>
            function triggerFilter(){
                var activeFilters = $('button.active').map(function() {
                    return this.id;
                }).get();
                console.log(activeFilters);
                $('details:not(#Filter)').removeAttr('open');
                activeFilters
                    .map(getFilterStories)
                    .reduce((a, c) => a.filter(i => c.includes(i)))
                    .map(openStory);
            }
        </script>
  </body>
</html>